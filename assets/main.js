const latest=document.getElementById('latest');const latestRelease=document.getElementById('latestRelease');const latestDownloads=document.getElementById('latestDownloads');const allDownloads=document.getElementById('allDownloads');const exe=document.getElementById('exe');const zip=document.getElementById('zip');const donate=document.getElementById('donate');const currentYear=document.getElementById('currentYear');const urlParams=new URLSearchParams(window.location.search);const apiDown=()=>{latest.textContent=latestRelease.textContent=latestDownloads.textContent=allDownloads.textContent='Error';};const locale=urlParams.get('lang')??navigator.language.split('-')[0];let translations={};document.addEventListener('DOMContentLoaded',()=>{fetch(`assets/lang/${locale}.json`).then(res=>res.json()).then(data=>{translations=data;document.title=translations['title'];document.documentElement.lang=locale;document.querySelector('meta[name="description"]').setAttribute('content',translations['meta-description']);document.querySelector('meta[name="description"]').setAttribute('lang',locale);document.querySelector('meta[property="og:title"]').setAttribute('content',translations['title']);document.querySelector('meta[property="og:description"]').setAttribute('content',translations['meta-description']);document.querySelector('link[rel="canonical"]').setAttribute('href','https://www.customrp.xyz/?lang='+locale);document.querySelectorAll('[data-i18n-id]').forEach(translateElement);let poeditorLink=document.createElement('a');poeditorLink.target='_blank';poeditorLink.title='CustomRP on POEditor';poeditorLink.href='https://poeditor.com/join/project?hash=2jq0i7ANr1';poeditorLink.innerText=translations['feature-multilingual-link'];let multilingualElem=document.querySelector("[data-i18n-id='feature-multilingual-desc']");multilingualElem.innerHTML=multilingualElem.innerHTML.replace('{feature-multilingual-link}',poeditorLink.outerHTML);document.querySelector("[data-i18n-id='btn-help']").parentElement.href+='v/'+locale;}).catch(()=>console.log('No translations for',locale));});function translateElement(element){const id=element.dataset.i18nId;const translation=translations[id];if(translation)element.innerText=translation;}
donate.setAttribute('href','#');donate.querySelector('div').innerText='Donate';donate.title='Donate';donate.onclick=()=>{Swal.fire({title:translations['btn-donate']??'Donate',html:translations['donate-html']??`<i class="fa-brands fa-patreon"></i> <a href="https://boosty.to/maximmax42">Boosty</a> (recommended, you can <a href="https://boosty.to/maximmax42/single-payment/donation/191804">donate once</a> or subscribe monthly)<br>
        <i class="fa-solid fa-ruble-sign"></i> <a href="https://yoomoney.ru/to/41001998922598">YooMoney</a> (rubles only)<br>
        <i class="fa-brands fa-btc"></i> BTC: bc1q8zv8ge73mpk0rexmxe0r5lee9xergajhhndnul<br>
        <i class="fa-solid fa-dog"></i> DOGE: D9dus5XaS1yLm48gsRDKb5trenhfAvakFC<br>
        <i class="fa-brands fa-ethereum"></i> ETH/USDT/USDC: 0xcCC0DD3F0F018D58E7c564007a84Bf25Cd360401<br>
		<i class="fa-brands fa-monero"></i> Monero: 47QZ4A9KZbPhFdQAn6gj6pPcrDhmcLgYKWa8S8jbHHk5j1PVgVVnvwSB2iBDEd1TS4SfiNdM2drgM5P2K4y1z9Qu9AovXpj<br>
		Tron/USDT: TJkmSeaQeUqqm7TCuSzcDGNB3etzExPCrC<br>
		I will also take donations in: furry art (yes, seriously, <a href='https://ref.st/maximmax42'>https://ref.st/maximmax42</a>) and Nitro gifts.`,width:'auto',color:'white',});return false;};fetch('data.json').then(responce=>{if(!responce.ok){apiDown();return;}
responce.json().then(data=>{if(data.error){apiDown();return;}
latest.textContent=data.latestVersion;latestRelease.textContent=new Date(data.latestReleaseDate).toLocaleDateString();latestDownloads.textContent=data.latestDownloads;exe.setAttribute('href',`https://github.com/maximmax42/Discord-CustomRP/releases/download/${data.latestVersion}/CustomRP.${data.latestVersion}.exe`);zip.setAttribute('href',`https://github.com/maximmax42/Discord-CustomRP/releases/download/${data.latestVersion}/CustomRP.${data.latestVersion}.zip`);allDownloads.textContent=data.allDownloads;});});var d=new Date();currentYear.textContent=d.getFullYear();